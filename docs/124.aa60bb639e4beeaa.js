"use strict";(self.webpackChunkBulona_angular=self.webpackChunkBulona_angular||[]).push([[124],{9124:(T,u,i)=>{i.r(u),i.d(u,{UserProfileModule:()=>A});var a=i(9808),m=i(9917),p=i(5861),n=i(2382),e=i(5e3),g=i(1581);function c(t,l){if(1&t&&(e.TgZ(0,"div",52),e._UZ(1,"img",53),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"hr"),e.qZA()),2&t){const o=l.$implicit;e.xp6(3),e.Oqu(o.name+" "+o.last_name)}}function v(t,l){if(1&t&&(e.TgZ(0,"div",34)(1,"div",49)(2,"div",36)(3,"div",37)(4,"h5",50),e._uU(5,"Pacientes activos"),e.qZA(),e.YNc(6,c,5,1,"div",51),e.qZA()()()()),2&t){const o=e.oxw();e.xp6(6),e.Q6J("ngForOf",null==o.user?null:o.user.patients)}}const b=[{path:"",component:(()=>{class t{constructor(o,r){this.queryService=o,this.fb=r,this.loadUserInfo(),this.newPatientForm=this.fb.group({email:["",[n.kI.required,n.kI.email]],name:["",[n.kI.required]],last_name:["",[n.kI.required]],device_id:[""]})}ngOnInit(){}loadUserInfo(){var o=this;return(0,p.Z)(function*(){o.user=yield o.queryService.getAccountInfo(),console.log(o.user),o.user=Object.assign({},o.user)})()}saveNewPatient(){var o=this;return(0,p.Z)(function*(){console.log(o.newPatientForm);const{email:r,name:d,last_name:s,device_id:y}=o.newPatientForm.value;yield o.queryService.registerPatient(d,s,r,y).then(()=>{o.loadUserInfo()})})()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g._),e.Y36(n.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-profile"]],decls:78,vars:5,consts:[["id","newPatientModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Ingrese un nombre","formControlName","name",1,"form-control"],["type","text","placeholder","Ingrese un apellido","formControlName","last_name",1,"form-control"],["type","text","placeholder","Ingrese un Email","formControlName","email",1,"form-control"],["type","text","placeholder","Agregue un id de dispositivo","formControlName","device_id",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"btn-group"],["type","button",1,"btn","btn-primary"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-primary","split-bg-primary","dropdown-toggle","dropdown-toggle-split"],[1,"visually-hidden"],[1,"dropdown-menu","dropdown-menu-right","dropdown-menu-lg-end"],["data-bs-toggle","modal","data-bs-target","#newPatientModal",1,"dropdown-item"],[1,"container"],[1,"main-body"],[1,"row"],[1,"col-lg-4"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-column","align-items-center","text-center"],["src","assets/images/avatars/user.jpg","alt","Admin","width","110",1,"rounded-circle","p-1","bg-primary"],[1,"mt-3"],[1,"text-secondary","mb-1"],[1,"col-lg-8"],[1,"row","mb-3"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9","text-secondary"],["disabled","","type","text",1,"form-control",3,"value"],["class","row",4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","align-items-center","mb-3"],["class","p-2 m-2","style","height: 50px;",4,"ngFor","ngForOf"],[1,"p-2","m-2",2,"height","50px"],["src","assets/images/avatars/user.jpg",2,"width","auto","height","100%"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Agregar nuevo usuario"),e.qZA(),e._UZ(6,"button",5),e.qZA(),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return r.saveNewPatient()}),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Nombre:"),e.qZA(),e._UZ(12,"input",10),e.qZA(),e.TgZ(13,"div",8)(14,"label",9),e._uU(15,"Apellido:"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",8)(18,"label",9),e._uU(19,"Email:"),e.qZA(),e._UZ(20,"input",12),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Id de dispositivo: (opcional)"),e.qZA(),e._UZ(24,"input",13),e.qZA()(),e.TgZ(25,"div",14)(26,"button",15),e._uU(27,"Grabar"),e.qZA()()()()()(),e.TgZ(28,"div",16)(29,"div",17),e._uU(30,"Perfil de usuario"),e.qZA(),e.TgZ(31,"div",18)(32,"nav",19)(33,"ol",20)(34,"li",21)(35,"a",22),e.NdJ("click",function(s){return s.preventDefault()}),e._UZ(36,"i",23),e.qZA()(),e.TgZ(37,"li",24),e._uU(38,"Perfil de usuario"),e.qZA()()()(),e.TgZ(39,"div",25)(40,"div",26)(41,"button",27),e._uU(42,"Pacientes"),e.qZA(),e.TgZ(43,"button",28)(44,"span",29),e._uU(45,"Toggle Dropdown"),e.qZA()(),e.TgZ(46,"div",30)(47,"a",31),e._uU(48,"Nuevo paciente"),e.qZA()()()()(),e.TgZ(49,"div",32)(50,"div",33)(51,"div",34)(52,"div",35)(53,"div",36)(54,"div",37)(55,"div",38),e._UZ(56,"img",39),e.TgZ(57,"div",40)(58,"h4"),e._uU(59),e.qZA(),e.TgZ(60,"p",41),e._uU(61,"Administrador"),e.qZA()()()()()(),e.TgZ(62,"div",42)(63,"div",36)(64,"div",37)(65,"div",43)(66,"div",44)(67,"h6",45),e._uU(68,"Nombre completo"),e.qZA()(),e.TgZ(69,"div",46),e._UZ(70,"input",47),e.qZA()(),e.TgZ(71,"div",43)(72,"div",44)(73,"h6",45),e._uU(74,"Email"),e.qZA()(),e.TgZ(75,"div",46),e._UZ(76,"input",47),e.qZA()()()(),e.YNc(77,v,7,1,"div",48),e.qZA()()()()),2&o&&(e.xp6(7),e.Q6J("formGroup",r.newPatientForm),e.xp6(52),e.Oqu((null==r.user?null:r.user.name)+" "+(null==r.user?null:r.user.last_name)),e.xp6(11),e.Q6J("value",(null==r.user?null:r.user.name)+" "+(null==r.user?null:r.user.last_name)),e.xp6(6),e.Q6J("value",null==r.user?null:r.user.email),e.xp6(1),e.Q6J("ngIf",null==r.user?null:r.user.patients.length))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,a.O5,a.sg],styles:[""]}),t})(),canActivate:[i(1463).i]}];let U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(b)],m.Bz]}),t})();var h=i(678);let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.ez,U,h.IJ,n.UX]]}),t})()}}]);